# Модель прецедентів

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

**Діаграма прецедентів**

***Реєстрація користувача***
```
**УЧАСНИКИ**: Користувач, Система
**ПЕРЕДУМОВИ**: Користувач хоче створити акаунт, щоб використати сервіс
**РЕЗУЛЬТАТ**: Користувача зареєстровано
**ВИКЛЮЧНІ СИТУАЦІЇ**: Відхилення запиту на реєстрацію (код помилки: user.reg_err1)
```
@startuml

    |Користувач|
        start
        : Користувач натискає на кнопку входу в існуючий обліковий запис;
    |Система|
        : Система надсилає користувачу форму для вводу даних існуючого облікового запису;
    |Користувач|
        : Користувач вводить дані свого облікового запису у форму входу в систему;
        : Користувач натискає на кнопку відправки системі даних існуючого облікового запису;
    |Система|
        : Система отримує дані, які надіслав користувач;
        : Система валідує данi, які надіслав користувач;
        note right #ffaaaa
        <b> Можлива помилка user.login_err1
        <b> EX.1
        end note
        : Система надає користувачу доступ до його облікового запису;
    |Користувач|
        : Користувач отримує доступ до свого облікового запису;
        stop;    

@enduml

***Авторизація в обліковий запис зареєстрованого користувача***
```
**УЧАСНИКИ**: Користувач, Система
**ПЕРЕДУМОВИ**: Користувач зареєстрований у системі. (Обліковий запис користувача присутній в системі)
**РЕЗУЛЬТАТ**: Доступ користувача до свого облікового запису
**ВИКЛЮЧНІ СИТУАЦІЇ**:
Облікового запису з введеними даними реєстрації не існує (код помилки: user.login_err1)
```
@startuml

    |Користувач|
        start
        :Вводить дані для реєстрації;
    |Система|
        :Перевіряє введені дані;
        note right #ffaaaa
        <b> Можлива помилка user.reg_err1
        <b> EX.1
        end note
        :Створює обліковий запис;
        :Повідомляє користувача про створення облікового запису;
    |Користувач|
        :Користувач отримує доступ до свого облікового запису;
        stop;

### **ID: USER.SEARCH**
    
**НАЗВА:** Здійснити запит на знаходження та аналіз даних за заданим користувачем шаблоном
    
**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач виконав авторизацію в обліковий запис

**РЕЗУЛЬТАТ:** Доступ користувача до зібраної та проаналізованої системою інформації

**ВИКЛЮЧНІ СИТУАЦІЇ:** 
1. Система не розпізнала введену користувачем інформацію(код помилки: user.search_err1)
2. Система не знайшла інформації за запитом користувача(код помилки: user.search_err2)

**ОСНОВНИЙ СЦЕНАРІЙ:**

@startuml
|Користувач|
    start
    : Надає запит на пошук інформації;
|Система|
    : Надає форму з фільтрами
для більш детального пошуку;

|Користувач|
    : Обирає фільтри, які бажає;
|Система|
    : Надає інтрумент для вибору проміжку часу,
за яким треба виконувати пошук;
|Користувач|
    : Вводить бажаний проміжок часу;
|Система|
    : Отримує та обробляє запит
на пошук та аналіз інформації
в заданому часовому проміжку;
    : Проводить пошук
по заданих параметрах;
note right #ffaaaa
    <b> user.search_err1 Система
    <b> не розпізнала введену
    <b> користувачем інформацію 
    end note
note right #ffaaaa
    <b> user.search_err2 Система
    <b> не знайшла інформації
    <b> за запитом користувача 
    end note
    : Формує звіт з даними, які вона знайшла,
задовільняючими заданим параметрам;
    : Надає доступ до зібраної
та проаналізованої інформації;
|Користувач|
    stop;
@enduml

**ID: USER.EXPORT**
    
**НАЗВА:** Користувач здійснює запит на експорт результату пошуку системи
    
**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач отримав результат запиту та ідентифікатор звіту

**РЕЗУЛЬТАТ:** Завантаження користувачем звіту в зручному для нього форматі

**ВИКЛЮЧНІ СИТУАЦІЇ:** 
1. Система не розпізнала введений користувачем ідентифікатор звіту (код помилки: user.export_err1)


@startuml
    |Користувач|
        start
        : Користувач надає системі ідентифікатор, який він отримав у звіті;
    |Система|
        : Система виконує пошук в системі за заданим ідентифікатором;
        note right #ffaaaa
        <b>Можлива помилка user.export_err1
        <b>EX.1
        end note
        : Система надає користувачу на вибір формат файла для завантаження звіту;
    |Користувач|
        :Користувач обирає формат файлу зі списку для експорту;
        :Користувач надсилає системі обраний формат файлу;
    |Система|
        :Система обробляє наданий їй користувачем формат файлу;
        :Система конвертує дані зі звіту в наданий користувачем формат файлу;
        :Система завантажує файл з бажаним форматом для завантаження користувачем;
    |Користувач|
        :Користувач завантажує звіту з обраним форматом файлу;
        stop;
@enduml    

</center>
```

