# Модель прецедентів

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

**Діаграма прецедентів**

***Реєстрація користувача***
```
**УЧАСНИКИ**: Користувач, Система
**ПЕРЕДУМОВИ**: Користувач хоче створити акаунт, щоб використати сервіс
**РЕЗУЛЬТАТ**: Користувача зареєстровано
**ВИКЛЮЧНІ СИТУАЦІЇ**: Відхилення запиту на реєстрацію (код помилки: user.reg_err1)
```
@startuml

    |Користувач|
        start
        : Користувач натискає на кнопку входу в існуючий обліковий запис;
    |Система|
        : Система надсилає користувачу форму для вводу даних існуючого облікового запису;
    |Користувач|
        : Користувач вводить дані свого облікового запису у форму входу в систему;
        : Користувач натискає на кнопку відправки системі даних існуючого облікового запису;
    |Система|
        : Система отримує дані, які надіслав користувач;
        : Система валідує данi, які надіслав користувач;
        note right #ffaaaa
        <b> Можлива помилка user.login_err1
        <b> EX.1
        end note
        : Система надає користувачу доступ до його облікового запису;
    |Користувач|
        : Користувач отримує доступ до свого облікового запису;
        stop;    

@enduml

***Авторизація в обліковий запис зареєстрованого користувача***
```
**УЧАСНИКИ**: Користувач, Система
**ПЕРЕДУМОВИ**: Користувач зареєстрований у системі. (Обліковий запис користувача присутній в системі)
**РЕЗУЛЬТАТ**: Доступ користувача до свого облікового запису
**ВИКЛЮЧНІ СИТУАЦІЇ**:
Облікового запису з введеними даними реєстрації не існує (код помилки: user.login_err1)
```
@startuml

    |Користувач|
        start
        :Вводить дані для реєстрації;
    |Система|
        :Перевіряє введені дані;
        note right #ffaaaa
        <b> Можлива помилка user.reg_err1
        <b> EX.1
        end note
        :Створює обліковий запис;
        :Повідомляє користувача про створення облікового запису;
    |Користувач|
        :Користувач отримує доступ до свого облікового запису;
        stop;

### **ID: USER.SEARCH**
    
**НАЗВА:** Здійснити запит на знаходження та аналіз даних за заданим користувачем шаблоном
    
**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач виконав авторизацію в обліковий запис

**РЕЗУЛЬТАТ:** Доступ користувача до зібраної та проаналізованої системою інформації

**ВИКЛЮЧНІ СИТУАЦІЇ:** 
1. Система не розпізнала введену користувачем інформацію(код помилки: user.search_err1)
2. Система не знайшла інформації за запитом користувача(код помилки: user.search_err2)

**ОСНОВНИЙ СЦЕНАРІЙ:**

@startuml
|Користувач|
    start
    : Надає запит на пошук інформації;
|Система|
    : Надає форму з фільтрами
для більш детального пошуку;

|Користувач|
    : Обирає фільтри, які бажає;
|Система|
    : Надає інтрумент для вибору проміжку часу,
за яким треба виконувати пошук;
|Користувач|
    : Вводить бажаний проміжок часу;
|Система|
    : Отримує та обробляє запит
на пошук та аналіз інформації
в заданому часовому проміжку;
    : Проводить пошук
по заданих параметрах;
note right #ffaaaa
    <b> user.search_err1 Система
    <b> не розпізнала введену
    <b> користувачем інформацію 
    end note
note right #ffaaaa
    <b> user.search_err2 Система
    <b> не знайшла інформації
    <b> за запитом користувача 
    end note
    : Формує звіт з даними, які вона знайшла,
задовільняючими заданим параметрам;
    : Надає доступ до зібраної
та проаналізованої інформації;
|Користувач|
    stop;
@enduml

**ID: USER.EXPORT**
    
**НАЗВА:** Користувач здійснює запит на експорт результату пошуку системи
    
**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач отримав результат запиту та ідентифікатор звіту

**РЕЗУЛЬТАТ:** Завантаження користувачем звіту в зручному для нього форматі

**ВИКЛЮЧНІ СИТУАЦІЇ:** 
1. Система не розпізнала введений користувачем ідентифікатор звіту (код помилки: user.export_err1)


@startuml
    |Користувач|
        start
        : Користувач надає системі ідентифікатор, який він отримав у звіті;
    |Система|
        : Система виконує пошук в системі за заданим ідентифікатором;
        note right #ffaaaa
        <b>Можлива помилка user.export_err1
        <b>EX.1
        end note
        : Система надає користувачу на вибір формат файла для завантаження звіту;
    |Користувач|
        :Користувач обирає формат файлу зі списку для експорту;
        :Користувач надсилає системі обраний формат файлу;
    |Система|
        :Система обробляє наданий їй користувачем формат файлу;
        :Система конвертує дані зі звіту в наданий користувачем формат файлу;
        :Система завантажує файл з бажаним форматом для завантаження користувачем;
    |Користувач|
        :Користувач завантажує звіту з обраним форматом файлу;
        stop;
@enduml    

### **ID: USER.HELP**

**НАЗВА:** Звернутись до системи за допомогою

**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач виконав авторизацію в системі та потребує і

**РЕЗУЛЬТАТ:** Довідка про роботу з системою

**ВИКЛЮЧНІ СИТУАЦІЇ:**

1. Система не змогла ідентифікувати запит користувача(код помилки: user.help_err1)

@startuml
    |Користувач|
        start
        : починає взаємодію;
        : натискає на кнопку звернення до системи;
    |Система|
        : надає користувачу форму для заповнення;
    |Користувач|
        : отримує доступ для заповнення форми;
        : вписує текст свого питання;
        : надсилає заповнену форму системі;
        note right #ffaaaa
        <b> user.help_err1
        <b> Система
        <b> не змогла ідентифікувати
        <b> запит користувача
        end note
    |Система|
        : аналізує проблему користувача за ключовими словами
        : надсилає користувачу необхідну довідку
    |Користувач|
        : отримує довідку та ознайомлюється з нею
        : завершує взаємодію
        stop;
@enduml

## Адміністратор

### **ID: ADMIN.HELP**

**НАЗВА:** Виклик адміністратора

**УЧАСНИКИ:** Користувач, Адміністратор

**ПЕРЕДУМОВИ:** Користувач не може самостійно вирішити проблему

**РЕЗУЛЬТАТ:** Адміністратор надає рішення проблеми користувача

**ВИКЛЮЧНІ СИТУАЦІЇ:**

1. Користувач не зміг встановити зв'язок з адміністратором(код помилки: admin.help_err1)

@startuml
    |Користувач|
        start
        : натискає на кнопку допомоги адміністратора;
        : вказує на проблему адміністратору;
    |Адміністратор|
        : розпочинає взаємодію;
        : отримує запит від користувача;
        note right #ffaaaa
        <b> admin.help_err1 Користувач
        <b> не зміг встановити 
        <b> зв'язок з адміністратором
        end note
        : отримує опис проблеми від користувача;
        : знаходить відповідь на запит користувача;
        : надсилає відповідь користувачу;
    |Користувач|
        : отримує відповідь на свій запит;
    |Адміністратор|
        : завершує взаємодію;
    |Користувач|
        stop;
@enduml

### **ID: ADMIN.ARIGHTS**
    
**НАЗВА:** Надання прав користувачам
    
**УЧАСНИКИ:** Користувач, Адміністратор 

**ПЕРЕДУМОВИ:** Користувач потребує додаткові права

**РЕЗУЛЬТАТ:**  Користувач отримує додаткові права

**ВИКЛЮЧНІ СИТУАЦІЇ:**
1. Користувача не було знайдено в системі (код помилки: admin.arights_err1)
2. Користувачу вже були надані всі додаткові права (код помилки: admin.arights_err2)

@startuml

    |Користувач|
        start
        : надає запит на отримання додаткових прав;
    |Адміністратор|
        : розпочинає взаємодію;
        : отримує запит на додання прав;
        note right #ffaaaa
        <b> admin.arights_err1 
        <b> Користувача 
        <b> не було знайдено
        <b> в системі
        end note
        : надає додаткові права користувачу;
        note right #ffaaaa
        <b> admin.arights_err2 
        <b> Користувачу
        <b> вже були надані
        <b> всі додаткові права
        end note
    |Користувач|
        : надає додаткові права користувачу;
    |Адміністратор|
        : завершує взаємодію;
    |Користувач|
        stop;
@enduml


</center>