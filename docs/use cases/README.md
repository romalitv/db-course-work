<center>

# Модель прецедентів

</center>

## Загальна схема опису

<center style="border-radius:4px;
border: 1px solid #cfd7e6;">

@startuml

actor "Користувач" as User #black
actor "Адміністратор" as Admin #black

usecase "<b>USER.REG\nРеєстрація" as USER.REG
usecase "<b>USER.LOGIN\nАвторизування" as USER.LOGIN
usecase "<b>USER.SEARCH\nЗдійснення\n запиту на аналіз" as USER.SEARCH 
usecase "<b>USER.EXPORT\nРедагування\n запиту" as USER.EXPORT
usecase "<b>USER.HELP\nЗвернення\n допомоги" as USER.HELP

usecase "<b>ADMIN.HELP\nВиклик адміністратора" as ADMIN.HELP
usecase "<b>ADMIN.NSRC\nДодавання\n джерел" as ADMIN.NSRC
usecase "<b>ADMIN.ARIGHTS\nНадання прав\n користувачеві" as ADMIN.ARIGHTS
usecase "<b>ADMIN.STAT\nСтатистика\n користувачів" as ADMIN.STAT

User -l->> USER.REG
User -->> USER.LOGIN
USER.REG -l->> USER.LOGIN : Після\nреєстрування
User -u->> USER.SEARCH
User -u->> USER.EXPORT
User -r->> USER.HELP
Admin -u->> ADMIN.HELP
Admin -l->> ADMIN.NSRC
Admin -d->> ADMIN.STAT
Admin -d->> ADMIN.ARIGHTS

User -l->> Admin

@enduml

</center>

<center>

## **Користувач**

### **Схема реєстрації користувача**

</center>

**ID**: USER.REG

**НАЗВА**: Реєстрація нового користувача

**УЧАСНИКИ**: Користувач, Система

**ПЕРЕДУМОВИ**: Користувач хоче створити акаунт, щоб використати сервіс

**РЕЗУЛЬТАТ**: Користувача зареєстровано

**ВИКЛЮЧНІ СИТУАЦІЇ**: Відхилення запиту на реєстрацію (код помилки: <b>user.reg_err1</b>)

@startuml

    |Користувач|
        start
        : Користувач натискає на кнопку входу 
         в існуючий обліковий запис;
    |Система|
        : Система надсилає користувачу форму 
         для вводу даних існуючого 
         облікового запису;
    |Користувач|
        : Користувач вводить дані свого 
         облікового запису у форму входу в систему;
        : Користувач натискає на кнопку відправки 
         системі даних існуючого облікового запису;
    |Система|
        : Система отримує дані, які надіслав користувач;
        : Система валідує данi, які надіслав користувач;
        note right #ffaaaa
        <b> Можлива помилка user.reg_err1
        <b> Відхилення запиту на реєстрацію
        end note
        : Система надає користувачу доступ 
         до його облікового запису;
    |Користувач|
        : Користувач отримує доступ 
         до свого облікового запису;
        stop;    

@enduml

<center>

### **Схема авторизації користувача**

</center>

**ID**: USER.LOGIN

**НАЗВА**: Авторизація в обліковий запис зареєстрованого користувача

**УЧАСНИКИ**: Користувач, Система

**ПЕРЕДУМОВИ**: Користувач зареєстрований у системі. (Обліковий запис користувача присутній в системі)

**РЕЗУЛЬТАТ**: Доступ користувача до свого облікового запису

**ВИКЛЮЧНІ СИТУАЦІЇ**:
Облікового запису з введеними даними реєстрації не існує (код помилки: <b>user.login_err1</b>)

@startuml

    |Користувач|
        start
        :Вводить дані для реєстрації;
    |Система|
        :Перевіряє введені дані;
        note right #ffaaaa
        <b> Можлива помилка user.login_err1
        <b> Облікового запису з введеними даними 
        <b> реєстрації не існує
        end note
        :Створює обліковий запис;
        :Повідомляє користувача про створення облікового запису;
    |Користувач|
        :Користувач отримує доступ до свого облікового запису;
        stop;

@enduml

<center>

### **Схема запитів користувача**

</center>

**ID:** USER.SEARCH
    
**НАЗВА:** Здійснити запит на знаходження та аналіз даних за заданим користувачем шаблоном
    
**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач виконав авторизацію в обліковий запис

**РЕЗУЛЬТАТ:** Доступ користувача до зібраної та проаналізованої системою інформації

**ВИКЛЮЧНІ СИТУАЦІЇ:** 
1. Система не розпізнала введену користувачем інформацію(код помилки: <b>user.search_err1</b>)
2. Система не знайшла інформації за запитом користувача(код помилки: <b>user.search_err2</b>)


@startuml
|Користувач|
    start
    : Надає запит на пошук інформації;
|Система|
    : Надає форму з фільтрами
для більш детального пошуку;

|Користувач|
    : Обирає фільтри, які бажає;
|Система|
    : Надає інтрумент для вибору проміжку часу,
 за яким треба виконувати пошук;
|Користувач|
    : Вводить бажаний проміжок часу;
|Система|
    : Отримує та обробляє запит
 на пошук та аналіз інформації
 в заданому часовому проміжку;
    : Проводить пошук
 по заданих параметрах;
note right #ffaaaa
    <b> Можлива помилка 
    <b> user.search_err1 
    <b> Система не розпізнала введену
    <b> користувачем інформацію 
    end note
note right #ffaaaa
    <b> Можлива помилка 
    <b> user.search_err2 
    <b> Система не знайшла інформації
    <b> за запитом користувача 
    end note
    : Формує звіт з даними, які вона знайшла,
 задовільняючими заданим параметрам;
    : Надає доступ до зібраної
 та проаналізованої інформації;
|Користувач|
    stop;
@enduml

<center>

### **Схема запиту експорту** 

</center>

**ID:** USER.EXPORT

**НАЗВА:** Користувач здійснює запит на експорт результату пошуку системи
    
**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач отримав результат запиту та ідентифікатор звіту

**РЕЗУЛЬТАТ:** Завантаження користувачем звіту в зручному для нього форматі

**ВИКЛЮЧНІ СИТУАЦІЇ:** 
1. Система не розпізнала введений користувачем ідентифікатор звіту (код помилки: <b>user.export_err1</b>)


@startuml
    |Користувач|
        start
        : Користувач надає системі ідентифікатор, 
         який він отримав у звіті;
    |Система|
        : Система виконує пошук в системі 
         за заданим ідентифікатором;
        note right #ffaaaa
        <b>Можлива помилка user.export_err1
        <b>Система не розпізнала 
        <b>введений користувачем 
        <b>ідентифікатор звіту
        end note
        : Система надає користувачу 
         на вибір формат файла 
         для завантаження звіту;
    |Користувач|
        :Користувач обирає формат файлу 
         зі списку для експорту;
        :Користувач надсилає системі 
         зворотній формат файлу;
    |Система|
        :Система обробляє наданий 
         їй користувачем формат файлу;
        :Система конвертує дані зі звіту 
         в наданий користувачем формат файлу;
        :Система завантажує файл 
         з бажаним форматом 
         для завантаження користувачем;
    |Користувач|
        :Користувач завантажує звіту з обраним форматом файлу;
        stop;
@enduml    

<center>

### **Схема звернення до системи**

</center>

**ID:** USER.HELP

**НАЗВА:** Звернутись до системи за допомогою

**УЧАСНИКИ:** Користувач, Система

**ПЕРЕДУМОВИ:** Користувач виконав авторизацію в системі та потребує і

**РЕЗУЛЬТАТ:** Довідка про роботу з системою

**ВИКЛЮЧНІ СИТУАЦІЇ:**

1. Система не змогла ідентифікувати запит користувача(код помилки: <b>user.help_err1</b>)

@startuml
    |Користувач|
        start
        : Починає взаємодію;
        : Натискає на кнопку звернення до системи;
    |Система|
        : Надає користувачу форму для заповнення;
    |Користувач|
        : Отримує доступ для заповнення форми;
        : Вписує текст свого питання;
        : Надсилає заповнену форму системі;
        note right #ffaaaa
        <b> Можлива помилка user.help_err1
        <b> Система не змогла ідентифікувати 
        <b> запит користувача
        end note
    |Система|
        : Аналізує проблему користувача за ключовими словами;
        : Надсилає користувачу необхідну довідку;
    |Користувач|
        : Отримує довідку та ознайомлюється з нею;
        : Завершує взаємодію;
        stop;
@enduml

## Адміністратор

<center>

### **Схема звернення до адміністратора**

</center>

**ID:** ADMIN.HELP

**НАЗВА:** Виклик адміністратора

**УЧАСНИКИ:** Користувач, Адміністратор

**ПЕРЕДУМОВИ:** Користувач не може самостійно вирішити проблему

**РЕЗУЛЬТАТ:** Адміністратор надає рішення проблеми користувача

**ВИКЛЮЧНІ СИТУАЦІЇ:**

1. Користувач не зміг встановити зв'язок з адміністратором(код помилки: <b>admin.help_err1</b>)

@startuml
    |Користувач|
        start
        : Натискає на кнопку допомоги адміністратора;
        : Вказує на проблему адміністратору;
    |Адміністратор|
        : Розпочинає взаємодію;
        : Отримує запит від користувача;
        note right #ffaaaa
        <b> Можлива помилка admin.help_err1 
        <b> Користувач
        <b> не зміг встановити 
        <b> зв'язок з адміністратором
        end note
        : Отримує опис проблеми від користувача;
        : Знаходить відповідь на запит користувача;
        : Надсилає відповідь користувачу;
    |Користувач|
        : Отримує відповідь на свій запит;
    |Адміністратор|
        : Завершує взаємодію;
    |Користувач|
        stop;
@enduml

<center>

### **Схема додавання джерел**

</center>

**ID:** ADMIN.NSRC

**НАЗВА**: Додавання джерел інформації

**Учасники**: Адміністратор, Система

**ПЕРЕДУМОВИ:** Адміністратор має право на додання джерел

**РЕЗУЛЬТАТ:** Нові джерела інформації у системі 

**ВИКЛЮЧНІ СИТУАЦІЇ:**
1. Нові джерела не пройшли валідацію (код помилки: <b>admin.nsrc_err1</b>)

@startuml
    |Адміністратор|
        start
        : Початок взаємодії;
        : Натискання кнопки додавання джерела;
    |Система|
        : Виводиться форма для додавання нового джерела;
    |Адміністратор|
        : Надання посилання, опис джерела;
    |Система|
        : Джерело проходить перевірку на валідність;
        note right #ffaaaa
        <b> Можлива помилка 
        <b> admin.nsrc_err1 
        <b> Джерела не пройшли валідацію
        end note
    |Адміністратор|
        : Налаштування фільтрів пошуку джерела;
    |Система|
        : Додавання нового джерела;
    |Адміністратор|
        : Завершення взаємодії;
        stop;
@enduml

<center>

### **Схема надання прав**

</center>

**ID:** ADMIN.ARIGHTS
    
**НАЗВА:** Надання прав користувачам
    
**УЧАСНИКИ:** Користувач, Адміністратор 

**ПЕРЕДУМОВИ:** Користувач потребує додаткові права

**РЕЗУЛЬТАТ:**  Користувач отримує додаткові права

**ВИКЛЮЧНІ СИТУАЦІЇ:**
1. Користувача не було знайдено в системі (код помилки: <b>admin.arights_err1</b>)
2. Користувачу вже були надані всі додаткові права (код помилки: <b>admin.arights_err2</b>)

@startuml

    |Користувач|
        start
        : Надає запит на отримання додаткових прав;
    |Адміністратор|
        : Розпочинає взаємодію;
        : Отримує запит на додання прав;
        note right #ffaaaa
        <b> Можлива помилка 
        <b> admin.arights_err1 
        <b> Користувача 
        <b> не було знайдено
        <b> в системі
        end note
        : Надає додаткові права користувачу;
        note right #ffaaaa
        <b> admin.arights_err2 
        <b> Користувачу
        <b> вже були надані
        <b> всі додаткові права
        end note
    |Користувач|
        : Надає додаткові права користувачу;
    |Адміністратор|
        : Завершує взаємодію;
    |Користувач|
        stop;
@enduml

<center>

### **Схема надання статистики**

</center>

**ID: ADMIN.STAT**
    
**НАЗВА:** Статистика користувачів за проміжок часу
    
**УЧАСНИКИ:** Адміністратор, Система 

**ПЕРЕДУМОВИ:** Адміністратор має право доступу до статистики 

**РЕЗУЛЬТАТ:**  Адміністратор отримує статистичні дані

**ВИКЛЮЧНІ СИТУАЦІЇ:**
1. Система не змогла зібрати статистику за певний проміжок часу (код помилки: <b>admin.stat_err1</b>)

@startuml
    |Адміністратор|
    start
    : Початок взаємодії;
    : Обирання проміжку часу для збору даних;
    : Запит на статистику за обраний час;
    |Система|
    : Отримує запит;
    : Шукає дані за проміжок часу;
    note right #ffaaaa
    <b> Можлива помилка 
    <b> admin.stat_err1
    <b> Система не змогла зібрати 
    <b> статистику за певний проміжок часу
    end note
    : Надає дані;
    |Адміністратор|
    : Отримання даних;
    : Перевірка отриманих даних;
    : Завершення взаємодії;
    stop;
@enduml